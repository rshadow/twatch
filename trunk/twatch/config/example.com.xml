<?xml version='1.0' standalone='yes'?>
<!--

Пример конфигурационного файла для торрент трекера LostFilm.tv
Просто скопируйте этот файл в директорию проектов и поменяйте параметры на
нужные вам.
(По умолчанию: ~/.twatch/project)

Вы можете использовать данный файл как основу для написания новых проектов.
Обозначения параметров можно посмотреть в соответствующем мануале.

Внимание! Если значение праметра содержит знак ">" или "<" оберните его в
специальную xml конструкцию: <![CDATA[значение]]>, этого требует спецификация
xml.
-->
<project>

    <!-- Общие параметры проекта -->

    <!--  Имя проекта. Обязательный. -->
    <name>LostFilm</name>
    <!-- Адрес главной страницы сайта. Обязательный. -->
    <url>http://lostfilm.tv</url>
    <!-- Порядковый номер для обработки. Любые числа и буквы. -->
    <order>0</order>

    <!-- Параметры авторизации на сервере -->
    <authtorization>
        <!--
            Адрес страницы авторизации (страница с формой авторизации).
            Если совпадает с главной страницей то можно не указывать.
        ->
        <url></url>
        <!--
            Имена и значения параметров для входа на трекер.
            Обязательные:
                login       - логин пользователя на тракере
                password    - пароль
            Вы можете добавить свои значения но как правило это не требуется
            так как скрипт отсылает форму, полученную непостредственно с
            трекера, со всеми необходимыми параметрами.
        -->
        <login>
            <!-- Имя параметра логина в форме авторизации -->
            <name>FormLogin</name>
            <!-- Логин -->
            <value>test_login</value>
        </login>
        <password>
            <!-- Имя параметра пароля в форме авторизации -->
            <name>FormPassword</name>
            <!-- Пароль. -->
            <value>123456</value>
        </password>
    </authtorization>

    <!-- Параметры заданий -->
    <watches>
        <watch>
            <!-- Наименование задания. -->
            <name>House M.D.</name>
            <!-- Адрес для списка торрентов. -->
            <url>http://www.lostfilm.tv/browse.php?cat=51</url>
            <!--
                Регулярное выражения для поиска страниц с торрентами.
                Если на странице <url> храниться не список торрентов а список
                страниц с описанием торрент файлов то используйте
                данный параметр для получения списка ссылок на данные страницы.
                Подробности смотрите в справке.
            -->
            <urlreg></urlreg>
            <!-- Порядковый номер для обработки. Любые числа и буквы. -->
            <order>0</order>
            <!--
               Список параметров торрента с регулярными выражениями для
               вычленения данного праметра из html страницы.
               Обязательные:
                    torrent     - имя торрент файла
                    link        - путь для закачки торрент файла
               Зарезервированные:
                    datetime    - зарезервировано для внутренних нужд
               Остальные параметры не обязательные, но могут быть
               использованы для фильтров и для получения дополнительной
               информации в рассылке.
               Примерный список параметров приведен ниже в этой секции.
            -->
            <reg>
                <torrent><![CDATA[<a href=".*?/(House\.M\.D.*?\.torrent)"[^>]*?class="a_download"]]></torrent>
                <link><![CDATA[<a href="([^<]*?House\.M\.D.*?)"[^>]*?class="a_download"]]></link>
                <title><![CDATA[<td class="t_episode_title".*?>(.*?)\s*<]]></title>
                <season><![CDATA[<a href=".*?House\.M\.D\.s?(\d*?)\D.*?" class="a_download"]]></season>
                <series><![CDATA[<a href=".*?House\.M\.D\.s?\d*?\D(\d*?)\D.*?" class="a_download"]]></series>
                <rating><![CDATA[<td class="t_episode_rating".*?<b>(.*?)</b>.*?/td>]]></rating>
                <video><![CDATA[<td class="t_cell">.*?Видео:\s*(.*?);.*?</td>]]></video>
                <translate><![CDATA[<td class="t_cell">.*?Перевод:\s*(.*?);.*?</td>]]></translate>
                <size><![CDATA[<td class="t_cell">.*?Размер:\s*(.*?);.*?</td>]]></size>
            </reg>
            <!--
                Список фильтров для параметров секции <reg>.
                Параметры:
                    name    - имя параметра из <reg>
                    value   - значение фильтра
                    method  - метод фильтрации:
                              =~, !~, ==, >, >=, <, <=, !=, <=>, eq, gt, lt, ne,
                              ... и любые другие логические операторы perl
                Фильтры объединяються через логическое И.
                Примерный список фильтров приведен ниже в этой секции: скачивать
                торрент файлы для 6 и больше сезона.
            -->
            <filters>
                <filter>
                    <name>season</name>
                    <value>6</value>
                    <method>>=</method>
                </filter>
            </filters>
        </watch>
    </watches>
</project>